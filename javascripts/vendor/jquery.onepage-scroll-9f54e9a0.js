!function(e){var n={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,pageNumber:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1};e.fn.lazyImage=function(){e(this).each(function(){var n=e(this),a=n.attr("data-lazy-url");"none"==e(this).css("background-image")&&e(this).find(".preloading").length<=0&&(e(this).append('<div class="preloading image-loader"><div class="preloader"></div></div>'),e("<img>").attr("src",a).load(function(){n.find(".preloading").remove(),n.css("background-image",'url("'+a+'")')}).error(function(){n.find(".preloading").remove(),n.css("background-image",'url("'+a+'")')}))})},e.fn.lazyPageImage=function(){e(this).each(function(){var n=e(this),a=n.attr("data-lazy-page-url");n.closest(".slide"),"none"==e(this).css("background-image")&&(e(".menu-button").addClass("preloading"),e("<img>").attr("src",a).load(function(){e(".menu-button").removeClass("preloading"),n.css("background-image",'url("'+a+'")')}).error(function(){e(".menu-button").removeClass("preloading"),n.css("background-image",'url("'+a+'")')}))})},e.fn.lazyLoad=function(){e(this).is("[data-lazy-url]")&&e(this).lazyImage(),e(this).find("[data-lazy-url]").each(function(){e(this).lazyImage()}),e(this).is("[data-lazy-page-url]")&&e(this).lazyPageImage(),e(this).find("[data-lazy-page-url]").each(function(){e(this).lazyPageImage()})},e.fn.playVideo=function(){if(e(this).find(".video_container.autoplay iframe").length>0){var n=e(this).find(".video_container.autoplay iframe")[0],a=$f(n);a.api("play")}},e.fn.pauseVideo=function(){if(e(this).find(".video_container iframe").length>0){var n=e(this).find(".video_container iframe")[0],a=$f(n);a.api("unload")}},e.fn.swipeEvents=function(){return this.each(function(){function n(e){var n=e.originalEvent.touches;n&&n.length&&(t=n[0].pageX,i=n[0].pageY,o.bind("touchmove",a))}function a(e){var n=e.originalEvent.touches;if(n&&n.length){var s=t-n[0].pageX,d=i-n[0].pageY;s>=50&&o.trigger("swipeLeft"),-50>=s&&o.trigger("swipeRight"),d>=50&&o.trigger("swipeUp"),-50>=d&&o.trigger("swipeDown"),(Math.abs(s)>=50||Math.abs(d)>=50)&&o.unbind("touchmove",a)}}var t,i,o=e(this);o.bind("touchstart",n)})},e.fn.onepage_scroll=function(a){function t(){e(window).width()<o.responsiveFallback?(e("body").addClass("disabled-onepage-scroll"),e(document).unbind("mousewheel DOMMouseScroll"),s.swipeEvents().unbind("swipeDown swipeUp")):(e("body").hasClass("disabled-onepage-scroll")&&(e("body").removeClass("disabled-onepage-scroll"),e("html, body, .wrapper").animate({scrollTop:0},"fast")),s.swipeEvents().bind("swipeDown",function(n){e("body").hasClass("disabled-onepage-scroll")||n.preventDefault(),s.moveUp()}).bind("swipeUp",function(n){e("body").hasClass("disabled-onepage-scroll")||n.preventDefault(),s.moveDown()}),e(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail;i(e,n)}))}function i(e,n){deltaOfInterest=n;var a=(new Date).getTime();return a-lastAnimation<quietPeriod+o.animationTime?(e.preventDefault(),void 0):(0>deltaOfInterest?s.moveDown():s.moveUp(),lastAnimation=a,void 0)}var o=e.extend({},n,a),s=e(this),d=e(o.sectionContainer);if(total=d.length,status="off",topPos=0,lastAnimation=0,quietPeriod=500,paginationList="",e.fn.transformPage=function(n,a,t){var i=Math.abs(a-t),o=e(this);i>0&&(current=e(n.sectionContainer+"[data-index='"+a+"']"),next=e(n.sectionContainer+"[data-index='"+t+"']"),current.pauseVideo(),next.playVideo(),pos=-1*100*(t-1),1>=i?(e(this).css({"-webkit-transform":"translate3d(0, "+pos+"%, 0)","-webkit-transition":"all "+n.animationTime+"ms "+n.easing,"-moz-transform":"translate3d(0, "+pos+"%, 0)","-moz-transition":"all "+n.animationTime+"ms "+n.easing,"-ms-transform":"translate3d(0, "+pos+"%, 0)","-ms-transition":"all "+n.animationTime+"ms "+n.easing,transform:"translate3d(0, "+pos+"%, 0)",transition:"all "+n.animationTime+"ms "+n.easing}),e(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"function"==typeof n.afterMove&&n.afterMove(a)})):(e(this).css({"-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none",transition:"none"}),o.animate({opacity:0},400,"linear",function(){o.css({"-webkit-transform":"translate3d(0, "+pos+"%, 0)","-moz-transform":"translate3d(0, "+pos+"%, 0)","-ms-transform":"translate3d(0, "+pos+"%, 0)",transform:"translate3d(0, "+pos+"%, 0)"}),o.animate({opacity:1},400)})))},e.fn.moveDown=function(){var n=e(this);if(index=e(o.sectionContainer+".active").data("index"),next_index=index+1,current=e(o.sectionContainer+"[data-index='"+index+"']"),next=e(o.sectionContainer+"[data-index='"+next_index+"']"),next.length<1){if(1!=o.loop)return;next=e(o.sectionContainer+"[data-index='1']"),next_index=1}if("function"==typeof o.beforeMove&&o.beforeMove(index),current.removeClass("active"),next.addClass("active"),next.lazyLoad(),next.playVideo(),next_next=e(o.sectionContainer+"[data-index='"+(next_index+1)+"']"),next_next.length>0&&next_next.lazyLoad(),1==o.pagination&&e(".onepage-pagination li a[data-index='"+next_index+"']").length>0&&(e(".onepage-pagination li a").removeClass("active"),e(".onepage-pagination li a[data-index='"+next_index+"']").addClass("active")),1==o.pageNumber&&e(".page-info .current").text(next_index),e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),e("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==o.updateURL){var a=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+next_index;history.pushState({},document.title,a)}n.transformPage(o,index,next_index)},e.fn.moveUp=function(){var n=e(this);if(index=e(o.sectionContainer+".active").data("index"),next_index=index-1,current=e(o.sectionContainer+"[data-index='"+index+"']"),next=e(o.sectionContainer+"[data-index='"+(index-1)+"']"),next.length<1){if(1!=o.loop)return;next_index=total,next=e(o.sectionContainer+"[data-index='"+total+"']")}"function"==typeof o.beforeMove&&o.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),next.lazyLoad(),next.playVideo(),next_next=e(o.sectionContainer+"[data-index='"+(next_index-1)+"']"),next_next.length>0&&next_next.lazyLoad();for(var a=next_index;e(".onepage-pagination li a[data-index='"+a+"']").length<1&&a>=1;)a-=1;if(1==o.pagination&&(e(".onepage-pagination li a").removeClass("active"),e(".onepage-pagination li a[data-index='"+a+"']").addClass("active")),1==o.pageNumber&&e(".page-info .current").text(next_index),e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),e("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==o.updateURL){var t=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+next_index;history.pushState({},document.title,t)}n.transformPage(o,index,next_index)},s.addClass("onepage-wrapper").css("position","relative"),e.each(d,function(n){if(e(this).css({position:"absolute",top:topPos+"%"}).addClass("section").attr("data-index",n+1),topPos+=100,1==o.pagination&&e(this).data("pager")){var a=e(this).data("pager")?e(this).data("pager"):"";paginationList+="<li><a data-index='"+(n+1)+"' href='#"+(n+1)+'\'><span class="dot"></span><span class="hover-text">'+a+"</span</a></li>"}}),s.swipeEvents().bind("swipeDown",function(n){e("body").hasClass("disabled-onepage-scroll")||n.preventDefault(),s.moveUp()}).bind("swipeUp",function(n){e("body").hasClass("disabled-onepage-scroll")||n.preventDefault(),s.moveDown()}),1==o.pagination){e("<ul class='onepage-pagination'>"+paginationList+"</ul>").prependTo("body");var r=-1*(e(".onepage-pagination").height()/2);e(".onepage-pagination").css("margin-top",r)}if(1==o.pageNumber&&(e(".page-info").show(),e(".page-info .total").text(total)),""!=window.location.hash&&"#1"!=window.location.hash){if(init_index=window.location.hash.replace("#",""),e(o.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),e("body").addClass("viewing-page-"+init_index),next=e(o.sectionContainer+"[data-index='"+init_index+"']")){next.addClass("active"),next.lazyLoad(),next.playVideo(),next_next=e(o.sectionContainer+"[data-index='"+(init_index+1)+"']"),next_prev=e(o.sectionContainer+"[data-index='"+(init_index-1)+"']"),next_next.length>0&&next_next.lazyLoad(),next_prev.length>0&&next_prev.lazyLoad();for(var l=init_index;e(".onepage-pagination li a[data-index='"+l+"']").length<1&&l>=1;)l-=1;if(1==o.pagination&&e(".onepage-pagination li a[data-index='"+l+"']").addClass("active"),1==o.pageNumber&&e(".page-info .current").text(init_index),e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),e("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==o.updateURL){var p=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,p)}}s.transformPage(o,1,init_index)}else e(o.sectionContainer+"[data-index='1']").addClass("active").lazyLoad(),e(o.sectionContainer+"[data-index='1']").playVideo(),e(o.sectionContainer+"[data-index='2']").lazyLoad(),e("body").addClass("viewing-page-1"),1==o.pagination&&e(".onepage-pagination li a[data-index='1']").addClass("active"),1==o.pageNumber&&e(".page-info .current").text("1");return 1==o.pagination&&e(".onepage-pagination li a").click(function(){var n=e(this).data("index");return e(".slide.active").data("index")!=n&&(current=e(o.sectionContainer+".active"),current_index=current.data("index"),next=e(o.sectionContainer+"[data-index='"+n+"']"),next&&(current.removeClass("active"),next.addClass("active"),next.lazyLoad(),next.playVideo(),next_next=e(o.sectionContainer+"[data-index='"+(n+1)+"']"),next_prev=e(o.sectionContainer+"[data-index='"+(n-1)+"']"),next_next.length>0&&next_next.lazyLoad(),next_prev.length>0&&next_prev.lazyLoad(),e(".onepage-pagination li a").removeClass("active"),e(".onepage-pagination li a[data-index='"+n+"']").addClass("active"),1==o.pageNumber&&e(".page-info .current").text(n),e("body")[0].className=e("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),e("body").addClass("viewing-page-"+n)),s.transformPage(o,current_index,n)),0==o.updateURL?!1:void 0}),e(document).on("mousewheel DOMMouseScroll",function(n){n.preventDefault();var a=n.originalEvent.wheelDelta||-n.originalEvent.detail;e("body").hasClass("disabled-onepage-scroll")||i(n,a)}),0!=o.responsiveFallback&&(e(window).resize(function(){t()}),t()),1==o.keyboard&&e(document).keydown(function(n){var a=n.target.tagName.toLowerCase();if(!e("body").hasClass("disabled-onepage-scroll"))switch(n.which){case 38:"input"!=a&&"textarea"!=a&&s.moveUp();break;case 40:"input"!=a&&"textarea"!=a&&s.moveDown();break;default:return}n.preventDefault()}),!1}}(window.jQuery);